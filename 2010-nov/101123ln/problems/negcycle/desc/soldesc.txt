Запускаем N итераций алгоритма Флойда. Если a[i, j] не равно 0 на каком-то шаге, то, значит, нашли цикл отрицательного веса. Чтобы восстановить сам цикл, используем стандртную идею восстановления кратчайшего пути.